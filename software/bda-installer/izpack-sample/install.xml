<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>

<!-- 
    A sample installation file.
    Use it as a base for your own installers :-)
    
    To compile it :
    - go in the bin directory where you installed IzPack
    - call "compile ../sample/install.xml -b ../sample"
-->

<installation version="1.0">

	<!-- 
	The info section.
	The meaning of the tags should be natural ...
	-->
	<info>
		<appname>caArray</appname>
		<appversion>1.4 beta 666</appversion>
		<authors>
		    <author name="JPz" email="jpz@superman.org"/>
		    <author name="Hidden Man" email="hidden@hisdomain.com"/>
		</authors>
		<url>http://www.anotherworld-inspace-website.net/</url>
	</info>

	<!-- 
	The gui preferences indication.
	Sets the installer window to 640x480. It will not be able to change the size.
	-->
	<guiprefs width="640" height="480" resizable="no"/>

	<!-- 
	The locale section.
	Asks here to include the English and French langpacks.
	-->
	<locale>
		<langpack iso3="eng">		
		    <str id="AntAction.core" txt="Proceeding of ANT-activities"/>
		    <str id="AntAction.install" txt="Revision of archives"/>
		</langpack>
		<langpack iso3="fra"/>
	</locale>

	<conditions>
		<condition type="variable" id="install">
			<name>setup.type</name>
			<value>install</value>
		</condition>
		<condition type="variable" id="update">
			<name>setup.type</name>
			<value>update</value>
		</condition>
		<condition type="java" id="installonwindows">
			<java>
				<class>com.izforge.izpack.util.OsVersion</class>
				<field>IS_WINDOWS</field>
			</java>
			<returnvalue type="boolean">true</returnvalue>
		</condition>
		<condition type="and" id="install.onwindows">
			<condition type="ref" refid="install"/>
			<condition type="ref" refid="installonwindows" />
		</condition>
		<condition type="and" id="update.onwindows">
			<condition type="ref" refid="update"/>
			<condition type="ref" refid="installonwindows" />
		</condition>


		
	</conditions>

	<!-- 
	The resources section.
	The ids must be these ones if you want to use the LicencePanel and/or the InfoPanel.
	-->
	<resources>
		<res id="AntActionsSpec.xml" src="antActionSpec.xml" />
		<res id="LicencePanel.licence" src="Licence.txt"/>
		<res id="InfoPanel.info" src="Readme.txt"/>
		<res id="userInputSpec.xml" src="userInputSpec.xml" />	
		<res id="CustomActionsLang.xml_eng" src="custom_eng.xml"/>
		<res id="UserPathPanel.dir" src="windir.txt"/>
	</resources>

	<!-- 
	The panels section.
	We indicate here which panels we want to use. The order will be respected.
	<panel classname="PacksPanel" id="myuserinput" condition="pack2selected" />
	-->
	<panels>
		<panel classname="HelloPanel"/>
		<panel classname="InfoPanel"/>
		<panel classname="LicencePanel"/>
		<panel classname="TargetPanel"/>
		<panel classname="UserInputPanel"  id="UserInputPanel.0" />
		<panel classname="UserPathPanel" id="UserPathPanelInstallation" condition="install.onwindows"/>		
		<panel classname="UserInputPanel"  id="UserInputPanel.1" condition="install.onwindows"/>
		<panel classname="UserInputPanel"  id="UserInputPanel.2" condition="install.onwindows"/>
		<panel classname="UserInputPanel"  id="UserInputPanel.3" condition="install.onwindows"/>
		<panel classname="UserInputPanel"  id="UserInputPanel.4" condition="install.onwindows"/>
		<panel classname="UserInputPanel"  id="UserInputPanel.5" condition="install.onwindows"/>
		<panel classname="UserInputPanel"  id="UserInputPanel.6" condition="update.onwindows"/>
		<panel classname="UserInputPanel"  id="UserInputPanel.7" />
		<panel classname="InstallationGroupPanel"/>
		<panel classname="PacksPanel"/>
		<panel classname="SummaryPanel"/>
		<panel classname="ExtendedInstallPanel"/>
		<panel classname="FinishPanel"/>
	</panels>

	<listeners>
		<listener installer="SummaryLoggerInstallerListener">
			<os family="windows"/>
		</listener>
		
		<listener installer="ProgressBarInstallerListener"/>		

		<listener installer="AntActionInstallerListener" uninstaller="AntActionUninstallerListener" />
	</listeners>




	<!-- 
	The packs section.
	We specify here our packs.
	-->
	<packs>
		<pack name="download_install" id="download_install" required="no" installGroups="caarray"  condition="install.onwindows">
		    <description>The base files</description>
		    <file src="build.xml" targetdir="$INSTALL_PATH"/>
		    <file src="template" targetdir="$INSTALL_PATH"/>
		</pack>	

		<pack name="download_update" id="download_update" required="no" installGroups="caarray"  condition="update.onwindows">
		    <description>The base files</description>
		    <file src="template" targetdir="$INSTALL_PATH"/>
		    <file src="build.xml" targetdir="$INSTALL_PATH"/>		    
		</pack>	

		<pack name="parse-install" required="no" preselected="no" condition="install.onwindows">
		    <description>parse the input values</description>
		    <parsable targetfile="$INSTALL_PATH/caarray_installer/install.properties" type="plain" />		    
		</pack>

		<pack name="parse-update" required="no" preselected="no" condition="update.onwindows">
		    <description>parse the input values</description>
		    <parsable targetfile="$INSTALL_PATH/caarray_installer/upgrade.properties" type="plain" />		    
		</pack>

		<pack name="convert-install-path" required="no" preselected="no" condition="install.onwindows">
		    <description>installation base path</description> 		    
		</pack>

		<pack name="convert-update-path" required="no" preselected="no" condition="update.onwindows">
		    <description>Upgrade base path</description> 
		</pack>
				
		<pack name="install-application" required="no" preselected="no" >
		    <description>install the application</description>	
		</pack>

	</packs>
	<jar src="jar/ant/ant.jar" stage="both" />
	<jar src="jar/ant/ant-launcher.jar" stage="both"/>
	<jar src="jar/ant/ant-nodeps.jar" stage="both"/>
	<jar src="jar/drivers/mysql-connector-java-5.1.5.jar" stage="both"/>
</installation>
